<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-inherit="web_enterprise.HomeMenu" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('o_apps')]" position="replace">


            <!-- <div class="ungroup o_apps border-top" style="display: grid;">
                <div t-if="displayedApps.length" class="o_apps">
                    <t t-set="focused_app_index" t-value="displayedApps.appIndex"/>
                    <t t-foreach="displayedApps" t-as="app">
                        <div class="o_app" t-att-appcategory="app.category[0]" t-att-isFavorite="app.isFavorite ? 'true' : 'false'">
                            <t t-set="app_isFavorite" t-value="app.isFavorite"/>
                            <a
                                t-att-id="'result_app_' + app_index"
                                role="option"
                                t-att-aria-selected="appIndex === app_index ? 'true' : 'false'"
                                class="o_menuitem"
                                t-att-class="{o_focused: appIndex === app_index}"
                                t-att-data-menu-xmlid="app.xmlid"
                                t-att-href="app.href || ('#menu_id='+app.id+'&amp;action_id='+app.actionID)"
                                t-key="app.id"
                                t-on-click.prevent="_onAppClick(app)">
                                <div t-if="app.webIconData" class="o_app_icon" t-attf-style="background-image: url('{{app.webIconData}}');"/>
                                <div t-else="" class="o_app_icon" t-attf-style="background-color: {{app.webIcon.backgroundColor}};">
                                    <i t-att-class="app.webIcon.iconClass" t-attf-style="color: #{app.webIcon.color};"/>
                                </div>
                                <div class="o_caption" t-esc="app.label or app.name"/>
                            </a>
                            <a data-title="Title" class="app_star btn" type="button" t-on-click="_onClickAppStar" t-att-data-menu="app.id">
                                <i t-att-class="'fa ' + ((app_isFavorite)? ' fa-star' : 'fa-star-o') "/>
                            </a>
                        </div>
                    </t>
                </div>
            </div> -->

            <div t-if="displayedApps.length" role="listbox" class="o_apps row user-select-none mt-5 mx-0">
                <div t-foreach="displayedApps" t-as="app" t-key="app.id" class="col-3 col-md-2 o_draggable mb-3 px-0">
                    <t t-set="app_isFavorite" t-value="app.isFavorite"/>
                    <a t-att-id="'result_app_' + app_index"
                        role="option"
                        t-att-aria-selected="state.focusedIndex === app_index ? 'true' : 'false'"
                        class="o_app o_menuitem d-flex flex-column rounded-3 justify-content-start align-items-center w-100 p-1 p-md-2"
                        t-att-isFavorite="app.isFavorite ? 'true' : 'false'"
                        t-att-class="{o_focused: state.focusedIndex === app_index}"
                        t-att-data-menu-xmlid="app.xmlid"
                        t-att-href="app.href || ('#menu_id='+app.id+'&amp;action_id='+app.actionID)"
                        t-on-click.prevent="() => this._onAppClick(app)"
                        >
                        <img t-if="app.webIconData" class="o_app_icon rounded-3"
                            t-attf-src="{{app.webIconData}}"
                        />
                        <div t-else="" class="o_app_icon position-relative d-flex justify-content-center align-items-center w-75 p-2 rounded-3 ratio ratio-1x1"
                            t-attf-style="background-color: {{app.webIcon.backgroundColor}};"
                        >
                            <i t-attf-class="{{app.webIcon.iconClass}} position-relative w-auto h-auto" t-attf-style="color: {{app.webIcon.color}};"/>
                        </div>
                        <div class="o_caption w-100 text-center text-truncate mt-2" t-esc="app.label or app.name"/>
                        <a data-title="Title" class="app_star btn" type="button" t-on-click="_onClickAppStar" t-att-data-menu="app.id">
                            <i t-att-class="'fa ' + ((app_isFavorite)? ' fa-star' : 'fa-star-o') "/>
                        </a>
                    </a>
                    
                </div>
            </div>
        </xpath>

        <xpath expr="//input[hasclass('o_search_hidden')]" position="before">
            <div class="favoriteMenu w-100">
            <div class="o_apps">
            </div>
        </div>
        </xpath>
    </t>
</templates>
